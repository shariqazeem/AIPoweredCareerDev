{% extends "base.html" %}
{% block title %}Complete Profile Step 1{% endblock %}
{% block content %}
<div class="progress mt-3">
    <div class="progress-bar" role="progressbar" style="width: 25%;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
</div>
<div class="d-flex justify-content-center align-items-center" style="height: 80vh;">
    <div class="card p-4 shadow-lg bg-dark text-light" style="width: 100%; max-width: 500px;">
        <h2 class="text-center mb-4">Complete Profile - Step 1</h2>
        <form method="post" class="needs-validation" novalidate>
            {% csrf_token %}
            <div class="form-group">
                {{ form.bio.label_tag }} {{ form.bio }}
            </div>
            <div class="form-group">
                {{ form.location.label_tag }} {{ form.location }}
            </div>
            <div class="form-group">
                {{ form.career_interests.label_tag }} {{ form.career_interests }}
            </div>
            <button type="submit" class="btn btn-primary w-100 mt-3">Next</button>
        </form>
    </div>
</div>
<script>
    (function() {
        'use strict'
        const forms = document.querySelectorAll('.needs-validation')
        Array.from(forms).forEach(form => {
            form.addEventListener('submit', event => {
                if (!form.checkValidity()) {
                    event.preventDefault()
                    event.stopPropagation()
                }
                form.classList.add('was-validated')
            }, false)
        })
    })()

    document.addEventListener('DOMContentLoaded', function() {
        const tour = new Shepherd.Tour({
            defaultStepOptions: {
                classes: 'shadow-md bg-purple-dark',
                scrollTo: true,
                cancelIcon: {
                    enabled: true
                },
                arrow: true
            }
        });

        tour.addStep({
            id: 'bio',
            text: 'Provide a brief introduction about yourself.',
            attachTo: {
                element: '#id_bio',
                on: 'bottom'
            },
            buttons: [
                {
                    text: 'Next',
                    action: tour.next
                }
            ]
        });

        tour.addStep({
            id: 'location',
            text: 'Enter the city or region you are currently located in.',
            attachTo: {
                element: '#id_location',
                on: 'bottom'
            },
            buttons: [
                {
                    text: 'Previous',
                    action: tour.back
                },
                {
                    text: 'Next',
                    action: tour.next
                }
            ]
        });

        tour.addStep({
            id: 'career_interests',
            text: 'Select the field you are most interested in for your career.',
            attachTo: {
                element: '#id_career_interests',
                on: 'bottom'
            },
            buttons: [
                {
                    text: 'Previous',
                    action: tour.back
                },
                {
                    text: 'Finish',
                    action: tour.complete
                }
            ]
        });

        tour.start();
    });
</script>
<script>
$(function() {
    var availableLocations = ["New York", "Los Angeles", "Chicago", "Houston", "Phoenix"];
    $("#id_location").autocomplete({
        source: availableLocations
    });
});
</script>
{% endblock %}
